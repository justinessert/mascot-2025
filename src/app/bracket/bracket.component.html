<div class="container">
  <h1>March Madness Bracket</h1>

  <!-- Region Selection -->
  <div *ngIf="!selectedRegion">
    <h2>Select a Region</h2>
    <button *ngFor="let region of regions" (click)="selectRegion(region)">
      {{ region | titlecase }}
    </button>
  </div>

  <!-- Winner Selection Component -->
  <app-winner-selection 
    *ngIf="selectedRegion && bracket[roundIndex] && bracket[roundIndex][currentMatchupIndex] && bracket[roundIndex][currentMatchupIndex + 1]"
    [currentMatchup]="[bracket[roundIndex][currentMatchupIndex], bracket[roundIndex][currentMatchupIndex + 1]]" 
    (winnerSelected)="handleWinnerSelection($event)">
  </app-winner-selection>

  <!-- Full Bracket Display -->
  <app-bracket-display 
  [bracket]="bracket" 
  [champion]="champion" 
  [selectedRegion]="selectedRegion">
</app-bracket-display>

  <!-- Final Four Selection -->
  <div *ngIf="finalFour.length === 4 && !selectedRegion">
    <h2>Final Four</h2>
    <button (click)="startFinalFour()">Start Final Four</button>
  </div>

  <!-- Champion Display -->
  <div *ngIf="champion">
    <h2>Champion: {{ champion.name | titlecase }}</h2>
  </div>
</div>
